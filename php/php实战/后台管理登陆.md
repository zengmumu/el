# PHP 留言板后台管理登陆

## 登录表单

login.php 用于输出留言板后台管理登录表单及处理登录用户名/密码验证，下面是登录表单：
```html
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">    
    <title>登录</title>
</head>
<body>
 <h3>登录</h3>
 <form action="login.php" method="POST">
 用户名: <input type="text" name="username"><br>
 密码：<input name="password" type="password"><br>
 <input type="submit" value="登录">
</form>
<body>
</html>
```


## 登陆密码检测

该段代码用于从 user 表中检测管理员账户/密码正确与否：
```php
<?php
session_start();
//  开启session
require("./conn.php");
if($_POST){
	$username = $_POST["username"];
	$password = md5($_POST["password"]);
	$sql = "SELECT uid FROM user where username='$username' AND password='$password'";
	$result = mysql_query($sql);
	//  查询用户
	
	if(mysql_fetch_array($result)){
		$_SESSION["username"] = $username;
		// 设置session 并跳转
		header("Location:http://127.0.0.1/guest2/admin.php");
	}else{
		echo '用户名或密码错误';
	}
}
?>
```    

 

## 说明

  * 请注意，这段用户名/密码检测的代码应该是放置于整个页面开始部分也就是登录表单上面的，只是为了便于理解，本教程先列出了表单登录部分内容。
 
    
