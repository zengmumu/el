

## foreach()

PHP foreach() 语法结构用于遍历操作或输出数组，foreach()
仅能用于遍历数组或对象，当试图将其用于其它数据类型或者一个未初始化的变量时会产生错误。

语法：

    
    
    foreach (array as $value)
        statement
    // 或者：
    foreach (array as $key => $value)
        statement
    

上述语法中，每次循环将当前单元的值赋给 $value 并且数组内部的指针向前移一步。在第二种语法格式中还将当前单元的键名也会在每次循环中赋给变量 $key。

例子：

    
    
    <?php
    $arr_age = array("wang"=>18, "li"=>20, "zhang"=>25);
    foreach ($arr_age as $age) {
        echo $age,'<br />';
    }
    ?>
    

运行该例子输出：

    
    
    18
    20
    25
    

### 使用数组键值

    
    
    <?php
    $arr_age = array("wang"=>18, "li"=>20, "zhang"=>25);
    foreach ($arr_age as $key=>$age) {
        echo $key,': ',$age,'<br />';
    }
    ?>
    

运行例子输出：

    
    
    wang: 18
    li: 20
    zhang: 25
    

### &引用符号
    <?php
    $arr_age = array("wang"=>18, "li"=>20, "zhang"=>25);
    // foreach ($arr_age as $age) {
    foreach ($arr_age as &$age) {
        $age = $age+10;
        echo $age,'<br />';
    }
    // 输出原数组
    print_r($arr_age);
    ?>
    

运行例子输出：

    
    
    28
    30
    35
    Array ( [wang] => 18 [li] => 20 [zhang] => 25 ) 
    

要在 foreach 中修改原数组元素，可以通过引用来实现，将上面的例子更改为：

    
    
    <?php
    $arr_age = array("wang"=>18, "li"=>20, "zhang"=>25);
    foreach ($arr_age as &$age) {
        $age = $age+10;
        echo $age,'<br />';
    }
    // 输出原数组
    print_r($arr_age);
    ?>
    

运行例子输出：

    
    
    18
    20
    25
    Array ( [wang] => 28 [li] => 30 [zhang] => 35 ) 
    

### 延伸预读

PHP 数组是通过哈希表(HashTable)表实现的，因此 foreach 遍历数组时是依据元素添加的先后顺序来进行的。如果想按照索引大小遍历，应该使用
for() 循环遍历。

## for() 循环遍历数组

如果是操作 **连续键值** 的数组，也可以采用 for() 循环来遍历数组：

    
    
    <?php
    $arr_age = array(18, 20, 25);
    $num = count($arr_age);
    for($i = 0; $i < $num; $i++){
        echo $arr_age[$i]."<br />";
    }
    ?>
    

运行例子输出如下：

    
    
    18
    20
    25
    



